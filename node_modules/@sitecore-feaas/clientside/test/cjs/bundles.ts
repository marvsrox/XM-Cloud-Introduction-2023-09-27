const fs = require('fs')
const path = require('path')

describe('CJS import', () => {
  if (!fs.existsSync(path.resolve(__dirname, '../../dist/node/index.cjs'))) {
    it('should be ok', () => expect(1).toBe(1))
    return
  }

  describe('/react', () => {
    const FEAAS = require('../../dist/node/react.cjs')
    it('should load CJS', () => {
      expect(typeof FEAAS.fetchComponent).toBe('function')
      expect(typeof FEAAS.Component).toBe('function')
    })
  })
  describe('/headless', () => {
    const FEAAS = require('../../dist/node/headless.cjs')
    it('should load CJS', () => {
      expect(typeof FEAAS.fetchComponent).toBe('function')
      expect(typeof FEAAS.Component).toBe('function')
    })
  })
  describe('/', () => {
    const FEAAS = require('../../dist/node/index.cjs')
    it('should load CJS', () => {
      expect(typeof FEAAS.fetchComponent).toBe('function')
      expect(typeof FEAAS.Component).toBe('function')
    })
  })
  describe('/react', () => {
    const FEAAS = require('../../dist/node/react.cjs')
    it('should load CJS', () => {
      expect(typeof FEAAS.fetchComponent).toBe('function')
      expect(typeof FEAAS.Component).toBe('function')
    })
  })
  describe('/headless', () => {
    const FEAAS = require('../../dist/node/headless.cjs')
    it('should load CJS', () => {
      expect(typeof FEAAS.fetchComponent).toBe('function')
      expect(typeof FEAAS.Component).toBe('function')
    })
  })
  describe('/', () => {
    const FEAAS = require('../../dist/node/index.cjs')
    it('should load CJS', () => {
      expect(typeof FEAAS.fetchComponent).toBe('function')
      expect(typeof FEAAS.Component).toBe('function')
    })
  })
})
